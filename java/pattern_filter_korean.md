HTML input 태그에 한글/영문/숫자와 몇 개의 특수문자만 입력 가능하도록 설정하는 작업이 있었다. <br>
input 태그에 변화가 입력될 때마다 입력이 가능한 문자의 범위를 주고 해당 범위에 속하지 않는 문자인 경우, replaceAll 메서드를 이용해 모두 빈 값("")로 변경하였다.

<br>

한글/영문/숫자 범위는 간단하게 아래와 같이 설정할 수 있다.

한글 : ㄱ-힣
영문(대소문자 전부) : a-zA-Z
숫자 : 0-9

<br>

이를 이용한 필터링 함수는 다음과 같다.

```
funtion filterCharacter(value) {
	const regex = /[^ㄱ-힣a-zA-Z0-9]/gi;

  if(regex.test(value)){
		return value.replace(regex, "");
	}
  return value;
}
```
이렇게 하면 완벽할 줄 알았다. 아니었다. <br> 
테스트 도중 한자 가 입력 가능하다는 것을 깨달았다.

 <br> 

한자의 범위는 대략 다음과 같다.

한자 : **%u4E00 - %u9FFF**

**%u4E00**가 一(한 일)자고, **%u9FFF** 까지의 마지막 한자가 어떤 한자인지는 정확히 모르겠으나 한중일 공통한자의 범위가 이와 같다고 한다. 확장 한자까지 포함한다면 범위가 더 넓을 것으로 예상된다. (참고: http://waks.aks.ac.kr/unicode/)

 <br> 
 
한자를 제거하기 위해 아래와 같이 regex를 변경했다.

```
funtion filterCharacter(value) {
	const regex = /[^ㄱ-힣a-zA-Z0-9]|(?:[\u4E00-\u9FFF])/gi;

  if(regex.test(value)){
		return value.replace(regex, "");
	}
  return value;
}
```

한자 입력 시, 제거가 잘된다.  <br> 
그렇다면 한자 입력은 어떻게 가능했을까 ?  <br> 
분명 한글, 영문, 숫자만 입력 가능하도록 설정했다고 생각했는데 ..  <br> 

 <br> 
 
범인은 **한글 범위(ㄱ-힣)** 에 있다. "ㄱ"과 "힣"의 유니코드는 다음과 같다.

ㄱ : %u3131  <br> 
힣 : %uD7A3

<br> 

한자의 일부가 ㄱ-힣의 범위에 속하는 것을 알 수 있다.  <br> 
한자 말고도 ㄱ-힣에 속하는, 우리가 예상하지 못하는 문자는 더 있다.  <br> 

㉠-㉭ : %u3260 - %u326D  <br> 
㉮-㉻ : %u326E - %u327B  <br> 
㈎-㈛ : %u320E - %u321B  <br> 



따라서 "ㄱ-힣"의 범위로는 순수 한글 이외에 한자, 동그라미 한글, 괄호 한글 등이 입력될 수 있다.  <br> 
그렇다면, 완벽하게 우리가 생각하는 한글만 입력 가능하게끔 설정하기 위해서는 어떻게 해야할까 ?  <br> 

 <br> 
 

그 외 아래 문자 범위 또한 참고로 알아두자.  <br> 
①-⑳ : %u2460 - %u2473  <br> 
ⅰ-ⅹ(로마자) : %u2170 - %u2179 

---

유니코드 변환 도구 : http://seb.kr/unicode/
